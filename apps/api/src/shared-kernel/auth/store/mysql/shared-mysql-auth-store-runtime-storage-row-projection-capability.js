'use strict';

const {
  createSharedMysqlAuthStoreRowProjectionRuntimeSupport
} = require('./shared-mysql-auth-store-row-projection-runtime-support');
const constantCapability = require('./shared-mysql-auth-store-runtime-domain-constraint-constants');
const normalizationCapability = require('./shared-mysql-auth-store-runtime-domain-normalization-guard-capability');

const {
  toSessionRecord,
  toRefreshRecord,
  toUserRecord,
  toPlatformRoleCatalogRecord,
  toPlatformIntegrationCatalogRecord,
  toPlatformIntegrationContractVersionRecord,
  toPlatformIntegrationContractCompatibilityCheckRecord,
  toPlatformIntegrationRecoveryQueueRecord,
  toPlatformIntegrationFreezeRecord,
  findActivePlatformIntegrationFreezeRecordForWriteGate,
  assertPlatformIntegrationWriteAllowedByFreezeGate
} = createSharedMysqlAuthStoreRowProjectionRuntimeSupport({
  normalizeUserStatus: normalizationCapability.normalizeUserStatus,
  normalizePlatformRoleCatalogTenantId:
    normalizationCapability.normalizePlatformRoleCatalogTenantId,
  normalizePlatformRoleCatalogStatus:
    normalizationCapability.normalizePlatformRoleCatalogStatus,
  normalizePlatformRoleCatalogScope:
    normalizationCapability.normalizePlatformRoleCatalogScope,
  normalizePlatformIntegrationId:
    normalizationCapability.normalizePlatformIntegrationId,
  normalizePlatformIntegrationCode:
    normalizationCapability.normalizePlatformIntegrationCode,
  normalizePlatformIntegrationDirection:
    normalizationCapability.normalizePlatformIntegrationDirection,
  normalizePlatformIntegrationLifecycleStatus:
    normalizationCapability.normalizePlatformIntegrationLifecycleStatus,
  isValidPlatformIntegrationId:
    normalizationCapability.isValidPlatformIntegrationId,
  MAX_PLATFORM_INTEGRATION_CODE_LENGTH:
    constantCapability.MAX_PLATFORM_INTEGRATION_CODE_LENGTH,
  VALID_PLATFORM_INTEGRATION_DIRECTION:
    constantCapability.VALID_PLATFORM_INTEGRATION_DIRECTION,
  VALID_PLATFORM_INTEGRATION_LIFECYCLE_STATUS:
    constantCapability.VALID_PLATFORM_INTEGRATION_LIFECYCLE_STATUS,
  normalizePlatformIntegrationOptionalText:
    normalizationCapability.normalizePlatformIntegrationOptionalText,
  MAX_PLATFORM_INTEGRATION_PROTOCOL_LENGTH:
    constantCapability.MAX_PLATFORM_INTEGRATION_PROTOCOL_LENGTH,
  MAX_PLATFORM_INTEGRATION_AUTH_MODE_LENGTH:
    constantCapability.MAX_PLATFORM_INTEGRATION_AUTH_MODE_LENGTH,
  MAX_PLATFORM_INTEGRATION_NAME_LENGTH:
    constantCapability.MAX_PLATFORM_INTEGRATION_NAME_LENGTH,
  MAX_PLATFORM_INTEGRATION_ENDPOINT_LENGTH:
    constantCapability.MAX_PLATFORM_INTEGRATION_ENDPOINT_LENGTH,
  MAX_PLATFORM_INTEGRATION_BASE_URL_LENGTH:
    constantCapability.MAX_PLATFORM_INTEGRATION_BASE_URL_LENGTH,
  MAX_PLATFORM_INTEGRATION_VERSION_STRATEGY_LENGTH:
    constantCapability.MAX_PLATFORM_INTEGRATION_VERSION_STRATEGY_LENGTH,
  MAX_PLATFORM_INTEGRATION_RUNBOOK_URL_LENGTH:
    constantCapability.MAX_PLATFORM_INTEGRATION_RUNBOOK_URL_LENGTH,
  MAX_PLATFORM_INTEGRATION_LIFECYCLE_REASON_LENGTH:
    constantCapability.MAX_PLATFORM_INTEGRATION_LIFECYCLE_REASON_LENGTH,
  normalizePlatformIntegrationCodeKey:
    normalizationCapability.normalizePlatformIntegrationCodeKey,
  normalizePlatformIntegrationContractType:
    normalizationCapability.normalizePlatformIntegrationContractType,
  normalizePlatformIntegrationContractVersion:
    normalizationCapability.normalizePlatformIntegrationContractVersion,
  normalizePlatformIntegrationContractSchemaChecksum:
    normalizationCapability.normalizePlatformIntegrationContractSchemaChecksum,
  normalizePlatformIntegrationContractStatus:
    normalizationCapability.normalizePlatformIntegrationContractStatus,
  VALID_PLATFORM_INTEGRATION_CONTRACT_TYPE:
    constantCapability.VALID_PLATFORM_INTEGRATION_CONTRACT_TYPE,
  MAX_PLATFORM_INTEGRATION_CONTRACT_VERSION_LENGTH:
    constantCapability.MAX_PLATFORM_INTEGRATION_CONTRACT_VERSION_LENGTH,
  MAX_PLATFORM_INTEGRATION_CONTRACT_SCHEMA_REF_LENGTH:
    constantCapability.MAX_PLATFORM_INTEGRATION_CONTRACT_SCHEMA_REF_LENGTH,
  MAX_PLATFORM_INTEGRATION_CONTRACT_SCHEMA_CHECKSUM_LENGTH:
    constantCapability.MAX_PLATFORM_INTEGRATION_CONTRACT_SCHEMA_CHECKSUM_LENGTH,
  PLATFORM_INTEGRATION_CONTRACT_CHECKSUM_PATTERN:
    normalizationCapability.PLATFORM_INTEGRATION_CONTRACT_CHECKSUM_PATTERN,
  VALID_PLATFORM_INTEGRATION_CONTRACT_STATUS:
    constantCapability.VALID_PLATFORM_INTEGRATION_CONTRACT_STATUS,
  MAX_PLATFORM_INTEGRATION_CONTRACT_COMPATIBILITY_NOTES_LENGTH:
    constantCapability.MAX_PLATFORM_INTEGRATION_CONTRACT_COMPATIBILITY_NOTES_LENGTH,
  normalizePlatformIntegrationContractEvaluationResult:
    normalizationCapability.normalizePlatformIntegrationContractEvaluationResult,
  VALID_PLATFORM_INTEGRATION_CONTRACT_EVALUATION_RESULT:
    constantCapability.VALID_PLATFORM_INTEGRATION_CONTRACT_EVALUATION_RESULT,
  MAX_PLATFORM_INTEGRATION_CONTRACT_REQUEST_ID_LENGTH:
    constantCapability.MAX_PLATFORM_INTEGRATION_CONTRACT_REQUEST_ID_LENGTH,
  MAX_PLATFORM_INTEGRATION_CONTRACT_DIFF_SUMMARY_LENGTH:
    constantCapability.MAX_PLATFORM_INTEGRATION_CONTRACT_DIFF_SUMMARY_LENGTH,
  normalizePlatformIntegrationRecoveryId:
    normalizationCapability.normalizePlatformIntegrationRecoveryId,
  normalizePlatformIntegrationRecoveryStatus:
    normalizationCapability.normalizePlatformIntegrationRecoveryStatus,
  MAX_PLATFORM_INTEGRATION_RECOVERY_ID_LENGTH:
    constantCapability.MAX_PLATFORM_INTEGRATION_RECOVERY_ID_LENGTH,
  MAX_PLATFORM_INTEGRATION_RECOVERY_TRACEPARENT_LENGTH:
    constantCapability.MAX_PLATFORM_INTEGRATION_RECOVERY_TRACEPARENT_LENGTH,
  MAX_PLATFORM_INTEGRATION_RECOVERY_IDEMPOTENCY_KEY_LENGTH:
    constantCapability.MAX_PLATFORM_INTEGRATION_RECOVERY_IDEMPOTENCY_KEY_LENGTH,
  VALID_PLATFORM_INTEGRATION_RECOVERY_STATUS:
    constantCapability.VALID_PLATFORM_INTEGRATION_RECOVERY_STATUS,
  MAX_PLATFORM_INTEGRATION_RECOVERY_FAILURE_CODE_LENGTH:
    constantCapability.MAX_PLATFORM_INTEGRATION_RECOVERY_FAILURE_CODE_LENGTH,
  MAX_PLATFORM_INTEGRATION_RECOVERY_FAILURE_DETAIL_LENGTH:
    constantCapability.MAX_PLATFORM_INTEGRATION_RECOVERY_FAILURE_DETAIL_LENGTH,
  normalizePlatformIntegrationFreezeId:
    normalizationCapability.normalizePlatformIntegrationFreezeId,
  normalizePlatformIntegrationFreezeStatus:
    normalizationCapability.normalizePlatformIntegrationFreezeStatus,
  normalizeStoreIsoTimestamp: normalizationCapability.normalizeStoreIsoTimestamp,
  MAX_PLATFORM_INTEGRATION_FREEZE_ID_LENGTH:
    constantCapability.MAX_PLATFORM_INTEGRATION_FREEZE_ID_LENGTH,
  VALID_PLATFORM_INTEGRATION_FREEZE_STATUS:
    constantCapability.VALID_PLATFORM_INTEGRATION_FREEZE_STATUS,
  MAX_PLATFORM_INTEGRATION_FREEZE_REASON_LENGTH:
    constantCapability.MAX_PLATFORM_INTEGRATION_FREEZE_REASON_LENGTH,
  MAX_OPERATOR_USER_ID_LENGTH:
    constantCapability.MAX_OPERATOR_USER_ID_LENGTH,
  MAX_PLATFORM_INTEGRATION_FREEZE_REQUEST_ID_LENGTH:
    constantCapability.MAX_PLATFORM_INTEGRATION_FREEZE_REQUEST_ID_LENGTH,
  MAX_PLATFORM_INTEGRATION_FREEZE_TRACEPARENT_LENGTH:
    constantCapability.MAX_PLATFORM_INTEGRATION_FREEZE_TRACEPARENT_LENGTH,
  createPlatformIntegrationFreezeActiveConflictError:
    normalizationCapability.createPlatformIntegrationFreezeActiveConflictError
});

module.exports = {
  toSessionRecord,
  toRefreshRecord,
  toUserRecord,
  toPlatformRoleCatalogRecord,
  toPlatformIntegrationCatalogRecord,
  toPlatformIntegrationContractVersionRecord,
  toPlatformIntegrationContractCompatibilityCheckRecord,
  toPlatformIntegrationRecoveryQueueRecord,
  toPlatformIntegrationFreezeRecord,
  findActivePlatformIntegrationFreezeRecordForWriteGate,
  assertPlatformIntegrationWriteAllowedByFreezeGate
};
